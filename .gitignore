//	Workshop 03 _ Check ISBN number 
/**
 * @ due 22.01.2022 
 * @author Nguyen Thi Minh Chau _ SE1728 
 */
#include<stdio.h>
#include<ctype.h>
#include<string.h> 
	//Prototype 
void checkISBN();

	//Program
int main(){
	checkISBN();
	return 0; 
} 

	//Check ISBN
void checkISBN(){
	char str[20];
	int arr[20], n, i, j, k, sum = 0;
	printf(" ISBN Validator \n ============== "); 
	do{ 
		printf("\n"); 
		printf(" ISBN (0 to quit): ");
		scanf("%s", &str);
		if(strcmp(str, "0") == 0){
			printf(" Have a nice day");
			break; 
		} 
		n = strlen(str);
		if(n!=10){
			printf(" This is not a valid ISBN");
		} else{
			for(i=0; i<n; i++){
				for(j=0; j<n; j++){
					if(isdigit(str[i])){
						arr[j]=str[j]-48;
					} 
				} 
			} 
			k=2;
			while(k<=10){
				for(j=0; j<9; j++){
					sum += arr[j]*k;  
					k++; 
				} 
			}
			if((sum+arr[9])%11==0){
				printf(" This is a valid ISBN"); 
			} else{
				printf(" This is not a valid ISBN"); 
			} 
		}
	} while(strcmp(str, "0") != 0);
}

